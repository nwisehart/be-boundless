/*! be-boundless Fri Nov 18 2016 10:18:58 */
"use strict";function isEmpty(a){return!$.trim(a.html())}function videoPlay(a){var b=a,c=$("#video"),d=$("body"),e=document.getElementById("boundless-video"),f='<button class="close-video"><span class="top"></span><span class="left"></span><span class="bottom"></span></button><div id="youtube-video"><iframe title="YouTube video" id="embedVid" width='+c.width()+" height="+c.height()+' src="'+b+'" frameborder="0" allowfullscreen autoplay></iframe></div>';isMobile.matches?(e.innerHTML=f,$(".play").click(function(a){a.preventDefault()})):$(".play").click(function(a){a.preventDefault(),e.innerHTML=f,setTimeout(function(){$("#video iframe")[0].focus()},500),$(".close-video").click(function(){$(".play").removeClass("hidden"),d.toggleClass("playing"),e.innerHTML=""}),d.toggleClass("playing")})}var isMobile=window.matchMedia("only screen and (max-width: 768px)");$(function(){var a=document.getElementById("immersive-give");a&&a.addEventListener("click",function(a){a.preventDefault();var b=$("#immersive-give-iframe");isEmpty(b)&&$("<iframe>",{src:"https://online.gifts.washington.edu/secure/makeagift/givingOpps.aspx?nobanner=true&source_typ=3&appeal=17XIS&source="+a.target.getAttribute("data-fund"),frameborder:0,width:"100%",height:"auto"}).appendTo("#immersive-give-iframe"),setTimeout(function(){b.find("iframe").focus()},500)}),$(".audio-ctrl").each(function(){var a=$(this);a.attr("aria-pressed","false"),a.click(function(b){b.preventDefault();for(var c=document.body.getElementsByTagName("audio"),d=0;d<c.length;d++)c[d].pause();var e=$(b.target).closest(".audio"),f=e.find("audio")[0];e.addClass("active-audio"),e.find("button").attr("aria-pressed","false"),a.attr("aria-pressed","true"),a.hasClass("audio-play")&&($("audio")[0].pause(),setTimeout(function(){f.play()},1e3)),a.hasClass("audio-pause")&&f.pause(),a.hasClass("audio-read")&&(e.find(".audio-transcript").removeClass("visually-hidden").focus(),e.toggleClass("trans"),a.hasClass("active-transcript")?(e.find(".audio-transcript").addClass("visually-hidden"),a.removeClass("active-transcript"),e.toggleClass("trans")):a.addClass("active-transcript"))})}),$(".read-more").on("click",function(a){a.preventDefault(),$("html, body").animate({scrollTop:document.getElementsByTagName("main")[0].getBoundingClientRect().top-80},{duration:1e3})}),$("#pause").click(function(){var a=$("#intro-vid video");a.get(0).paused?a.get(0).play():a.get(0).pause(),$("#intro-vid").toggleClass("paused")})});var isMobile=function(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera),controller=new ScrollMagic.Controller,ready=!1,videdo=$("#intro").find("video")[0];$(window).load(function(){function a(a){var b=a,c=$("#slideplay"),d=$("body"),e=document.getElementById("boundless-video"),f='<button class="close-video"><span class="top"></span><span class="left"></span><span class="bottom"></span></button><div id="youtube-video"><iframe title="YouTube video" id="embedVid" width='+c.width()+" height="+c.height()+' src="'+b+'" frameborder="0" allowfullscreen autoplay></iframe></div>';isMobile.matches?(console.log("tru"),e.innerHTML=f,$(".play").click(function(a){a.preventDefault()})):(e.innerHTML=f,setTimeout(function(){$("#slideplay iframe")[0].focus()},500),$(".close-video").click(function(){$(".play").removeClass("hidden"),d.toggleClass("playing"),e.innerHTML=""}),d.toggleClass("playing"))}function b(){var a=window.pageYOffset||document.documentElement.scrollTop;a<4&&(f=0),TweenMax.set($("#intro").find(".text"),{webkitFilter:"blur("+f+"px)"})}$(".pause").click(function(a){var b=$(a.target),c=$(a.target).parent().find("video");c.get(0).paused?c.get(0).play():c.get(0).pause(),b.toggleClass("paused")}),$(".unmute").click(function(a){var b=$(a.target),c=$(a.target).parent().find("video");b.toggleClass("muted"),c.prop("muted")?c.prop("muted",!1):c.prop("muted",!0)}),$("#loader").fadeOut();var c=new ScrollMagic.Scene({triggerElement:"#intro",duration:"100%",triggerHook:0,reverse:!0}).setPin("#intro",{pushFollowers:!1}).addTo(controller).on("progress",function(a){var b=(this.triggerElement(),videdo.duration),c=a.progress*b;videdo.currentTime=Math.floor(c)/2});$(window).resize(function(){c.duration(2*$(window).height()),c.update(!0)});var d=new ScrollMagic.Scene({triggerElement:"#intro",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active")});$(window).resize(function(){d.offset(-$(window).height()),d.update(!0)});var e=new ScrollMagic.Scene({triggerElement:"#unexpected",duration:0,triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){$("#intro").toggleClass("active")});$(window).resize(function(){e.update(!0)});var f=0,g=new TimelineMax;g.to($("#intro").find(".text"),4,{y:"-100%",onUpdate:b});var h=new ScrollMagic.Scene({triggerElement:"#intro",duration:2*$(window).height(),triggerHook:0,reverse:!0}).setTween(g).on("progress",function(a){f=25*a.progress}).addTo(controller);$(window).resize(function(){h.duration(2*$(window).height()),h.update(!0)});var i=new ScrollMagic.Scene({triggerElement:"#unexpected",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video")[0];b.play(),$("body").toggleClass("after-start")});$(window).resize(function(){i.offset(-$(window).height()),i.update(!0)});var j=new ScrollMagic.Scene({triggerElement:"#inspiration",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#unexpected").toggleClass("active")}).addTo(controller);$(window).resize(function(){j.update(!0)});var k=new TimelineMax;k.from($("#unexpected").find(".middle"),.5,{y:"-100%"}).from($("#unexpected").find(".middle .fun"),.5,{opacity:0}).from($("#unexpected").find(".pluses"),.5,{opacity:0});var l=new ScrollMagic.Scene({triggerElement:"#unexpected",duration:0,offset:.25*-$(window).height(),triggerHook:0,reverse:!0}).setTween(k).addTo(controller);$(window).resize(function(){l.offset(.25*-$(window).height()),l.update(!0)});var m=new ScrollMagic.Scene({triggerElement:"#inspiration",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video")[0];b.play()});$(window).resize(function(){m.offset(-$(window).height()),m.update(!0)});var n=new ScrollMagic.Scene({triggerElement:"#slideplay",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#inspiration").toggleClass("active")}).addTo(controller);$(window).resize(function(){n.update(!0)});var o=new ScrollMagic.Scene({triggerElement:"#slideplay",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var b=this.triggerElement();$(b).toggleClass("active"),isMobile.matches?a("https://www.youtube.com/embed/tViVIkxZQOI?autoplay=1&rel=0&amp;showinfo=0&amp"):$("#slideplay").on("click",function(){$(this).find(".fader").toggleClass("show"),a("https://www.youtube.com/embed/tViVIkxZQOI?autoplay=1&rel=0&amp;showinfo=0&amp")})});$(window).resize(function(){o.offset(-$(window).height()),o.update(!0)});var p=new ScrollMagic.Scene({triggerElement:"#copy-one",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#slideplay").toggleClass("active")}).addTo(controller);$(window).resize(function(){p.update(!0)});var q=new TimelineMax;q.from($("#slideplay").find(".possible"),.25,{opacity:0}).from($("#slideplay").find(".click"),.25,{opacity:0}).to($("#slideplay").find(".ring svg"),.5,{rotation:360});var r=new ScrollMagic.Scene({triggerElement:"#slideplay",duration:0,offset:.25*-$(window).height(),triggerHook:0,reverse:!0}).setTween(q).addTo(controller);$(window).resize(function(){r.offset(.25*-$(window).height()),r.update(!0)});var s=new ScrollMagic.Scene({triggerElement:"#copy-one",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video[autoplay]")[0];b.play()});$(window).resize(function(){s.offset(-$(window).height()),s.update(!0)});var t=new ScrollMagic.Scene({triggerElement:"#copy-two",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#copy-one").toggleClass("active")}).addTo(controller);$(window).resize(function(){t.update(!0)});var u=new ScrollMagic.Scene({triggerElement:"#bus",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video[autoplay]")[0];b.play()});$(window).resize(function(){u.offset(-$(window).height()),u.update(!0)});var v=new ScrollMagic.Scene({triggerElement:"#copy-two",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#bus").toggleClass("active")}).addTo(controller);$(window).resize(function(){v.update(!0)});var w=new ScrollMagic.Scene({triggerElement:"#bus",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=$("#copy-two");$(a).toggleClass("active")});$(window).resize(function(){w.offset(-$(window).height()),w.update(!0)});var x=new ScrollMagic.Scene({triggerElement:"#surprise",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#copy-two").toggleClass("active")}).addTo(controller);$(window).resize(function(){x.update(!0)});var y=new ScrollMagic.Scene({triggerElement:"#surprise",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video[autoplay]")[0];b.play()});$(window).resize(function(){y.offset(-$(window).height()),y.update(!0)});var z=new ScrollMagic.Scene({triggerElement:"#scroll-one",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#surprise").toggleClass("active")}).addTo(controller);$(window).resize(function(){z.update(!0)});var A=new TimelineMax;A.from($("#surprise").find(".text"),.25,{opacity:0}).from($("#surprise").find(".other"),.25,{opacity:0});var B=new ScrollMagic.Scene({triggerElement:"#surprise",duration:0,offset:0,triggerHook:.5,reverse:!0}).setTween(A).addTo(controller);$(window).resize(function(){B.offset(.25*-$(window).height()),B.update(!0)});var C=new ScrollMagic.Scene({triggerElement:"#scroll-one",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active"),$(a).find("video[autoplay]").each(function(){$(this)[0].play()})});$(window).resize(function(){C.offset(-$(window).height()),C.update(!0)});var D=new ScrollMagic.Scene({triggerElement:"#ispossible",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#scroll-one").toggleClass("active")}).addTo(controller);if($(window).resize(function(){D.update(!0)}),!isMobile.matches){var E=new ScrollMagic.Scene({triggerElement:"#scroll-one",duration:$("#scroll-one").find(".inner").width()-$(window).width(),triggerHook:0,reverse:!0}).setPin("#scroll-one").addTo(controller).on("progress",function(a){var b=this.triggerElement(),c=$(b).find(".inner"),d=$(c).width()-$(window).width(),e=a.progress*d;$(c).css("transform","translateX(-"+e+"px) translateZ(0px)")});$(window).resize(function(){E.duration($("#scroll-one").find(".inner").width()-$(window).width()),E.update(!0)});var F=new ScrollMagic.Scene({triggerElement:"#scroll-two",duration:$("#scroll-two").find(".inner").width()-$(window).width(),triggerHook:0,reverse:!0}).setPin("#scroll-two").addTo(controller).on("progress",function(a){var b=this.triggerElement(),c=$(b).find(".inner"),d=$(c).width()-$(window).width(),e=a.progress*d;$(c).css("transform","translateX(-"+e+"px) translateZ(0px)")});$(window).resize(function(){F.duration($("#scroll-two").find(".inner").width()-$(window).width()),F.update(!0)})}var G=new ScrollMagic.Scene({triggerElement:"#ispossible",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active");var b=$(a).find("video[autoplay]")[0];b.play()});$(window).resize(function(){G.offset(-$(window).height()),G.update(!0)});var H=new ScrollMagic.Scene({triggerElement:"#scroll-two",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#ispossible").toggleClass("active")}).addTo(controller);$(window).resize(function(){H.update(!0)});var I=new TimelineMax;I.from($("#ispossible").find(".text"),.25,{opacity:0}).from($("#ispossible").find(".other"),.25,{opacity:0});var J=new ScrollMagic.Scene({triggerElement:"#ispossible",duration:0,offset:0,triggerHook:.5,reverse:!0}).setTween(I).addTo(controller);$(window).resize(function(){J.offset(.25*-$(window).height()),J.update(!0)});var K=new ScrollMagic.Scene({triggerElement:"#scroll-two",duration:0,offset:-$(window).height(),triggerHook:0,reverse:!0}).addTo(controller).on("start",function(){var a=this.triggerElement();$(a).toggleClass("active"),$(a).find("video[autoplay]").each(function(){$(this)[0].play()})});$(window).resize(function(){K.offset(-$(window).height()),K.update(!0)});var L=new ScrollMagic.Scene({triggerElement:"#threedvid",duration:0,triggerHook:0,reverse:!0}).on("start",function(){$("#scroll-two").toggleClass("active")}).addTo(controller);$(window).resize(function(){L.update(!0)});var M=0;document.addEventListener("scroll",function(){var a=window.pageYOffset||document.documentElement.scrollTop;a>M&&a>$(window).height()?$("body").addClass("hide-menu"):$("body").removeClass("hide-menu"),M=a},!1)}),!function(){if("function"!=typeof window.getMatchedCSSRules){var a=/[\w-]+/g,b=/#[\w-]+/g,c=/\.[\w-]+/g,d=/\[[^\]]+\]/g,e=/\:(?!not)[\w-]+(\(.*\))?/g,f=/\:\:?(after|before|first-letter|first-line|selection)/g,g=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b},h=function(a){var b=document.createElement("a");return b.href=a,b.host},i=function(a){var b,c=a.media&&a.media.mediaText;if("true"==objectFit.disableCrossDomain&&(b=h(a.href),b!==window.location.host))return[];if(a.disabled)return[];if(window.matchMedia){if(c&&c.length&&!window.matchMedia(c).matches)return[]}else if(c&&c.length)return[];return g(a.cssRules)},j=function(a,b){return a.match(b),b?b.length:0},k=function(g){for(var h,i,k=[0,0,0],l=g.split(" ");h=l.shift(),"string"==typeof h;)i=j(h,f),k[2]=i,i&&(h=h.replace(f,"")),i=j(h,e),k[1]=i,i&&(h=h.replace(e,"")),i=j(h,d),k[1]+=i,i&&(h=h.replace(d,"")),i=j(h,b),k[0]=i,i&&(h=h.replace(b,"")),i=j(h,c),k[1]+=i,i&&(h=h.replace(c,"")),k[2]+=j(h,a);return parseInt(k.join(""),10)},l=function(a,b){for(var c,d,e=b.split(","),f=0;c=e.shift();)o(a,c)&&(d=k(c),f=d>f?d:f);return f},m=function(a,b){var c=function(b,c){return l(a,c.selectorText)-l(a,b.selectorText)};return b.sort(c)},n=function(a,b){for(var c=(a.document||a.ownerDocument).querySelectorAll(b),d=0;c[d]&&c[d]!==a;)d++;return!!c[d]},o=function(a,b){var c=function(b){return a.matches?a.matches(b):a.matchesSelector?a.matchesSelector(b):a.mozMatchesSelector?a.mozMatchesSelector(b):a.webkitMatchesSelector?a.webkitMatchesSelector(b):a.msMatchesSelector?a.msMatchesSelector(b):n(a,b)};return c(b)};window.getMatchedCSSRules=function(a){var b,c,d,e,f=[];for(b=g(window.document.styleSheets);c=b.shift();)for(d=i(c);e=d.shift();)e.styleSheet?d=i(e.styleSheet).concat(d):e.media?d=i(e).concat(d):o(a,e.selectorText)&&f.push(e);return m(a,f)}}}(),function(){var a=0;window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame,window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame,window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){var b={};b._debug=!1,b.observer=null,b.disableCrossDomain="false",b.getComputedStyle=function(a,b){return b=b||window,b.getComputedStyle?b.getComputedStyle(a,null):a.currentStyle},b.getDefaultComputedStyle=function(a){var b=a.cloneNode(!0),c={},d=document.createElement("iframe");document.body.appendChild(d),d.contentWindow.document.open(),d.contentWindow.document.write("<body></body>"),d.contentWindow.document.body.appendChild(b),d.contentWindow.document.close();var e,f,g=d.contentWindow.document.querySelectorAll(a.nodeName.toLowerCase())[0],h=this.getComputedStyle(g,d.contentWindow);for(f in h)if(e=h.getPropertyValue===!0?h.getPropertyValue(f):h[f],null!==e)switch(f){default:c[f]=e;break;case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":}return document.body.removeChild(d),c},b.getMatchedStyle=function(a,b){var c=null,d=null;a.style.getPropertyValue?d=a.style.getPropertyValue(b):a.currentStyle&&(d=a.currentStyle[b]);var e,f,g=window.getMatchedCSSRules(a),h=g.length;if(h)for(;h-- >0&&(e=g[h],f=e.style.getPropertyPriority(b),null!==c&&!f||(c=e.style.getPropertyValue(b),!f)););return c||null===d||(c=d),c},b.orientation=function(a){if(a.parentNode&&"x-object-fit"===a.parentNode.nodeName.toLowerCase()){var b=a.naturalWidth||a.clientWidth,c=a.naturalHeight||a.clientHeight,d=a.parentNode.clientWidth,e=a.parentNode.clientHeight;!c||b/c>d/e?"wider"!==a.getAttribute("data-x-object-relation")&&(a.setAttribute("data-x-object-relation","wider"),a.className="x-object-fit-wider",this._debug&&window.console&&console.log("x-object-fit-wider")):"taller"!==a.getAttribute("data-x-object-relation")&&(a.setAttribute("data-x-object-relation","taller"),a.className="x-object-fit-taller",this._debug&&window.console&&console.log("x-object-fit-taller"))}},b.process=function(a){if(a.selector&&a.replacedElements){switch(b.disableCrossDomain=a.disableCrossDomain||"false",a.fittype=a.fittype||"none",a.fittype){default:return;case"none":case"fill":case"contain":case"cover":}var c=a.replacedElements;if(c.length)for(var d=0,e=c.length;e>d;d++)this.processElement(c[d],a)}},b.processElement=function(a,c){var d,e,f=b.getComputedStyle(a),g=b.getDefaultComputedStyle(a),h=document.createElement("x-object-fit");b._debug&&window.console&&console.log("Applying to WRAPPER-------------------------------------------------------");for(d in f)switch(d){default:e=b.getMatchedStyle(a,d),null!==e&&""!==e&&(b._debug&&window.console&&console.log(d+": "+e),h.style[d]=e);break;case"length":case"parentRule":}b._debug&&window.console&&console.log("Applying to REPLACED ELEMENT-------------------------------------------------------");for(d in g)switch(d){default:e=g[d],b._debug&&window.console&&""!==e&&(console.log(d+": "+e),void 0===a.style[d]&&console.log("Indexed style properties (`"+d+"`) not supported in: "+window.navigator.userAgent)),a.style[d]?a.style[d]=e:a.style.property=e;break;case"length":case"parentRule":}h.setAttribute("class","x-object-fit-"+c.fittype),a.parentNode.insertBefore(h,a),h.appendChild(a),b.orientation(a);var i=null,j=function(){null!==i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(function(){b.orientation(a)})};switch(c.fittype){default:break;case"contain":case"cover":window.addEventListener?(a.addEventListener("load",j,!1),window.addEventListener("resize",j,!1),window.addEventListener("orientationchange",j,!1)):(a.attachEvent("onload",j),window.attachEvent("onresize",j))}},b.listen=function(a){var c=function(c){for(var d=0,e=a.length;e>d;d++)(c.mozMatchesSelector&&c.mozMatchesSelector(a[d].selector)||c.msMatchesSelector&&c.msMatchesSelector(a[d].selector)||c.oMatchesSelector&&c.oMatchesSelector(a[d].selector)||c.webkitMatchesSelector&&c.webkitMatchesSelector(a[d].selector))&&(a[d].replacedElements=[c],b.process(a[d]),b._debug&&window.console&&console.log("Matching node inserted: "+c.nodeName))},d=function(a){b.observer.disconnect(),c(a),b.observer.observe(document.documentElement,{childList:!0,subtree:!0})},e=function(a){window.removeEventListener("DOMNodeInserted",e,!1),c(a.target),window.addEventListener("DOMNodeInserted",e,!1)},f=function(a){"x-object-fit"===a.nodeName.toLowerCase()&&(a.parentNode.removeChild(a),b._debug&&window.console&&console.log("Matching node removed: "+a.nodeName))},g=function(a){b.observer.disconnect(),f(a),b.observer.observe(document.documentElement,{childList:!0,subtree:!0})},h=function(a){window.removeEventListener("DOMNodeRemoved",h,!1),f(a.target.parentNode),window.addEventListener("DOMNodeRemoved",h,!1)};window.MutationObserver?(b._debug&&window.console&&console.log("DOM MutationObserver"),this.observer=new MutationObserver(function(a){a.forEach(function(a){if(a.addedNodes&&a.addedNodes.length)for(var b=a.addedNodes,c=0,e=b.length;e>c;c++)d(b[c]);a.removedNodes&&a.removedNodes.length&&g(a.target)})}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0})):window.addEventListener&&(b._debug&&window.console&&console.log("DOM Mutation Events"),window.addEventListener("DOMNodeInserted",e,!1),window.addEventListener("DOMNodeRemoved",h,!1))},b.init=function(a){if(a){a instanceof Array||(a=[a]);for(var b=0,c=a.length;c>b;b++)a[b].replacedElements=document.querySelectorAll(a[b].selector),this.process(a[b]);this.listen(a)}},b.polyfill=function(a){"objectFit"in document.documentElement.style==0?(b._debug&&window.console&&console.log("object-fit not natively supported"),"complete"===document.readyState?b.init(a):window.addEventListener?window.addEventListener("load",function(){b.init(a)},!1):window.attachEvent("onload",function(){b.init(a)})):b._debug&&window.console&&console.log("object-fit natively supported")},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd?define([],function(){return b}):"object"==typeof a&&"object"==typeof a.document&&(a.objectFit=b)}(window);