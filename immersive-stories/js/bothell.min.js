/*! be-boundless Tue Nov 29 2016 08:53:07 */
function isEmpty(a){return!$.trim(a.html())}function videoPlay(a){var b=a,c=$("#video"),d=$("body"),e=document.getElementById("boundless-video"),f='<button class="close-video"><span class="top"></span><span class="left"></span><span class="bottom"></span></button><div id="youtube-video"><iframe title="YouTube video" id="embedVid" width='+c.width()+" height="+c.height()+' src="'+b+'" frameborder="0" allowfullscreen autoplay></iframe></div>';isMobile.matches?(e.innerHTML=f,$(".play").click(function(a){a.preventDefault()})):$(".play").click(function(a){a.preventDefault(),e.innerHTML=f,setTimeout(function(){$("#video iframe")[0].focus()},500),$(".close-video").click(function(){$(".play").removeClass("hidden"),d.toggleClass("playing"),e.innerHTML=""}),d.toggleClass("playing")})}function MediumLightbox(a,b){"use strict";function c(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;g.x=e,g.y=f}function d(){if($(this).parent().toggleClass("active"),this.isZoomed){this.isZoomed=!this.isZoomed,f=null,this.img.style.cssText="",this.wrapper.style.cssText="",this.overlay.className="zoomOverlay";var a=this;setTimeout(function(){a.children[0].appendChild(a.img),a.children[0].removeChild(a.wrapper);var b="zoomImg";a.img.classList?a.img.classList.remove(b):a.img.className=a.img.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},300)}else{this.isZoomed=!this.isZoomed,f=this,this.img||(this.img=this.getElementsByTagName("img")[0]);var b,c,d=this.img.getBoundingClientRect().height,e=this.img.getBoundingClientRect().width,i=this.img.getBoundingClientRect().left,k=this.img.getBoundingClientRect().top;this.img.dataset?(b=this.img.dataset.width,c=this.img.dataset.height):(b=this.img.getAttribute("data-width"),c=this.img.getAttribute("data-height")),this.img.classList?this.img.classList.add("zoomImg"):this.img.className+=" zoomImg",this.overlay=document.createElement("div"),this.overlay.id="the-overlay",this.overlay.className="zoomOverlay",this.overlay.style.cssText="height:"+g.y+"px; width: "+g.x+"px; top: -"+(g.y-d)/2+"px; left: -"+(g.x-e)/2+"px;",this.wrapper=document.createElement("div"),this.wrapper.id="the-wrapper",this.wrapper.className="zoomImg-wrap zoomImg-wrap--absolute",this.wrapper.appendChild(this.img),this.wrapper.appendChild(this.overlay),this.children[0].appendChild(this.wrapper);var l=(g.x-j)/2-i-e/2,m=k*-1+(g.y-d)/2,n=1;c>d&&(d==e&&g.y>g.x?n=(g.x-h)/e:d==e&&g.y<g.x?n=(g.y-h)/d:d>e?(n=(g.y-h)/d,n*e>g.x&&(n=(g.x-h)/e)):d<e&&(n=(g.x-h)/e,n*d>g.y&&(n=(g.y-h)/d))),n*e>b&&(n=b/e);var a=this;setTimeout(function(){a.wrapper.style.cssText="transform: translate("+l+"px, "+m+"px) translateZ(0px);-webkit-transform: translate("+l+"px, "+m+"px) translateZ(0px);",a.img.style.cssText="transform: scale("+n+");-webkit-transform: scale("+n+")",a.overlay.className="zoomOverlay show"},0)}}function e(){f&&f.click()}if(a){var f,g={},b=b||{},h=b.margin||50,i=document.createElement("div");i.className="scrollbar-measure",document.body.appendChild(i);var j=i.offsetWidth-i.clientWidth;document.body.removeChild(i),c(),window.addEventListener("resize",c);var k=document.querySelectorAll(a);Array.prototype.forEach.call(k,function(a,b){a.addEventListener("click",d)}),window.addEventListener("scroll",e)}}var isMobile=window.matchMedia("only screen and (max-width: 768px)");$(".video-popup").each(function(a){var b=$("body"),c=document.getElementById("popup"),d='<button class="close-video"><span class="top"></span><span class="left"></span><span class="bottom"></span></button><div id="youtube-video"><iframe title="YouTube video" id="embedVid" width='+b.width()+" height="+b.height()+' src="'+$(this).data("url")+'" frameborder="0" allowfullscreen autoplay></iframe></div>';isMobile.matches?c.innerHTML=d:this.addEventListener("click",function(a){a.preventDefault(),c.innerHTML=d,setTimeout(function(){$("#popup iframe")[0].focus()},500),$(".close-video").click(function(){$(".play").removeClass("hidden"),b.toggleClass("playingPopup"),c.innerHTML=""}),b.toggleClass("playingPopup")})}),$(function(){var a=document.getElementById("immersive-give");a&&a.addEventListener("click",function(a){a.preventDefault();var b=$("#immersive-give-iframe");isEmpty(b)&&$("<iframe>",{src:"https://online.gifts.washington.edu/secure/makeagift/givingOpps.aspx?nobanner=true&source_typ=3&appeal=17XIS&source="+a.target.getAttribute("data-fund"),frameborder:0,width:"100%",height:"auto"}).appendTo("#immersive-give-iframe"),setTimeout(function(){b.find("iframe").focus()},500)}),$(".audio-ctrl").each(function(){var a=$(this);a.attr("aria-pressed","false"),a.click(function(b){b.preventDefault();for(var c=document.body.getElementsByTagName("audio"),d=0;d<c.length;d++)c[d].pause();var e=$(b.target).closest(".audio"),f=e.find("audio")[0];e.addClass("active-audio"),e.find("button").attr("aria-pressed","false"),a.attr("aria-pressed","true"),a.hasClass("audio-play")&&($("audio")[0].pause(),setTimeout(function(){f.play()},1e3)),a.hasClass("audio-pause")&&f.pause(),a.hasClass("audio-read")&&(e.find(".audio-transcript").removeClass("visually-hidden").focus(),e.toggleClass("trans"),a.hasClass("active-transcript")?(e.find(".audio-transcript").addClass("visually-hidden"),a.removeClass("active-transcript"),e.toggleClass("trans")):a.addClass("active-transcript"))})}),$(".read-more").on("click",function(a){a.preventDefault(),$("html, body").animate({scrollTop:document.getElementsByTagName("main")[0].getBoundingClientRect().top-80},{duration:1e3})}),$("#pause").click(function(){var a=$("#intro-vid video");a.get(0).paused?a.get(0).play():a.get(0).pause(),$("#intro-vid").toggleClass("paused")})}),$(function(){var a=(document.getElementsByTagName("body")[0],$(document).height()),b=new ScrollMagic.Controller;currentController=b;var c=(new ScrollMagic.Scene({triggerElement:"body",triggerHook:0,duration:a,reverse:!0}).setTween("#bar span",{width:"23vh",ease:Power0.easeIn}).addTo(b),new ScrollMagic.Scene({triggerElement:"#intro-slide",triggerHook:0,duration:"100%"}).setPin(".intro",{pushFollowers:!1}).setClassToggle("body","bothellIntro").setTween("#intro-text",.5,{opacity:0,transform:"translateY(100px)",ease:Power0.easeIn}).addTo(b),new ScrollMagic.Scene({triggerElement:"#video",triggerHook:1}).on("start",function(){videoPlay("https://www.youtube.com/embed/sbELjIqhOZ4?theme=light;autoplay=1&rel=0&amp;showinfo=0&amp")}).reverse(!1).addTo(b),(new TimelineMax).add([TweenMax.to("#back",1,{transform:"translateY(0)",ease:Power0.easeIn}),TweenMax.to("#middle",.5,{transform:"translateY(0)",ease:Power0.easeIn,delay:0}),TweenMax.to("#fore",.3,{transform:"translateY(0)",ease:Power0.easeIn,delay:.1}),TweenMax.to("#robot",.2,{transform:"translateY(100px)",ease:Power0.easeIn,delay:.3})])),d=(new ScrollMagic.Scene({triggerElement:"#jason",triggerHook:.1,offset:$("#jason").height()/3,duration:"100%"}).setTween(c).addTo(b),(new TimelineMax).add([TweenMax.to("#trees .background",1,{transform:"translateY(0)",ease:Power0.easeIn}),TweenMax.to("#trees .middle",.5,{transform:"translateY(0)",ease:Power0.easeIn,delay:0}),TweenMax.to("#trees .fore",.3,{transform:"translateY(0)",ease:Power0.easeIn,delay:.1})]));new ScrollMagic.Scene({triggerElement:"#trees",triggerHook:.1,offset:$("#trees").height()/2,duration:"100%"}).setTween(d).addTo(b);MediumLightbox("figure.zoom-effect");var e=document.getElementsByClassName("img");$(e).each(function(a){var b=e[a],c=$(this),d=!1;b.addEventListener("mouseover",function(){d||(c.after("<p>"+c.attr("alt")+"</p>"),d=!0)})})});