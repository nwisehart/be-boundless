/*! be-boundless Thu Feb 01 2018 23:29:18 */

function isEmpty(a){return!$.trim(a.html())}function videoPlay(a){var b=a,c=$("#video"),d=$("body"),e=document.getElementById("boundless-video"),f='<button class="close-video"><span class="top"></span><span class="left"></span><span class="bottom"></span></button><div id="youtube-video"><iframe title="YouTube video" id="embedVid" width='+c.width()+" height="+c.height()+' src="'+b+'" frameborder="0" allowfullscreen autoplay></iframe></div>';isMobile.matches?(e.innerHTML=f,$(".play").click(function(a){a.preventDefault()})):$(".play").click(function(a){a.preventDefault(),e.innerHTML=f,setTimeout(function(){$("#video iframe")[0].focus()},500),$(".close-video").click(function(){$(".play").removeClass("hidden"),d.toggleClass("playing"),e.innerHTML=""}),d.toggleClass("playing")})}var isMobile=window.matchMedia("only screen and (max-width: 768px)");$(function(){var a=document.getElementById("immersive-give");a&&a.addEventListener("click",function(a){a.preventDefault();var b=$("#immersive-give-iframe");$(".giving-widget").addClass("active"),isEmpty(b)&&$("<iframe>",{src:"https://online.gifts.washington.edu/secure/makeagift/givingOpps.aspx?nobanner=true&source_typ=3&appeal=17XIS&source="+a.target.getAttribute("data-fund"),frameborder:0,width:"100%",height:"auto"}).appendTo("#immersive-give-iframe"),setTimeout(function(){b.find("iframe").focus()},500)});var b=document.getElementById("immersive-give-promoted");b&&(b.addEventListener("click",function(a){a.preventDefault();var b=$("#immersive-give-iframe-promoted");$(".giving-widget-promoted").toggleClass("active"),isEmpty(b)&&$("<iframe>",{src:"https://online.gifts.washington.edu/secure/makeagift/givingOpps.aspx?nobanner=true&source_typ=3&appeal=17XIS&source="+a.target.getAttribute("data-fund"),frameborder:0,width:"100%",height:"auto"}).appendTo("#immersive-give-iframe-promoted"),setTimeout(function(){b.find("iframe").focus()},500)}),$("#close-give").click(function(){$("#immersive-give-iframe-promoted").empty(),$(".giving-widget-promoted").toggleClass("active")})),$(".audio-ctrl").each(function(){var a=$(this);a.attr("aria-pressed","false"),a.click(function(b){b.preventDefault();for(var c=document.body.getElementsByTagName("audio"),d=0;d<c.length;d++)c[d].pause();var e=$(b.target).closest(".audio"),f=e.find("audio")[0];e.addClass("active-audio"),e.find("button").attr("aria-pressed","false"),a.attr("aria-pressed","true"),a.hasClass("audio-play")&&($("audio")[0].pause(),setTimeout(function(){f.play()},1e3)),a.hasClass("audio-pause")&&f.pause(),a.hasClass("audio-read")&&(e.find(".audio-transcript").removeClass("visually-hidden").focus(),e.toggleClass("trans"),a.hasClass("active-transcript")?(e.find(".audio-transcript").addClass("visually-hidden"),a.removeClass("active-transcript"),e.toggleClass("trans")):a.addClass("active-transcript"))})}),$(".read-more").on("click",function(a){a.preventDefault(),$("html, body").animate({scrollTop:document.getElementsByTagName("main")[0].getBoundingClientRect().top-80},{duration:1e3})}),$("#pause").click(function(){var a=$("#intro-vid video");a.get(0).paused?a.get(0).play():a.get(0).pause(),$("#intro-vid").toggleClass("paused")})}),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return b(a,c)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=b(a,require("jquery")):a.lity=b(a,a.jQuery||a.Zepto)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a){var b=B();return N&&a.length?(a.one(N,b.resolve),setTimeout(b.resolve,500)):b.resolve(),b.promise()}function d(a,c,d){if(1===arguments.length)return b.extend({},a);if("string"==typeof c){if(void 0===d)return void 0===a[c]?null:a[c];a[c]=d}else b.extend(a,c);return this}function e(a){for(var b,c=decodeURI(a.split("#")[0]).split("&"),d={},e=0,f=c.length;e<f;e++)c[e]&&(b=c[e].split("="),d[b[0]]=b[1]);return d}function f(a,c){return a+(a.indexOf("?")>-1?"&":"?")+b.param(c)}function g(a,b){var c=a.indexOf("#");return-1===c?b:(c>0&&(a=a.substr(c)),b+a)}function h(a){return b('<span class="lity-error"/>').append(a)}function i(a,c){var d=c.opener()&&c.opener().data("lity-desc")||"Image with no description",e=b('<img src="'+a+'" alt="'+d+'"/>'),f=B(),g=function(){f.reject(h("Failed loading image"))};return e.on("load",function(){if(0===this.naturalWidth)return g();f.resolve(e)}).on("error",g),f.promise()}function j(a,c){var d,e,f;try{d=b(a)}catch(a){return!1}return!!d.length&&(e=b('<i style="display:none !important"/>'),f=d.hasClass("lity-hide"),c.element().one("lity:remove",function(){e.before(d).remove(),f&&!d.closest(".lity-content").length&&d.addClass("lity-hide")}),d.removeClass("lity-hide").after(e))}function k(a){var c=J.exec(a);return!!c&&o(g(a,f("https://www.youtube"+(c[2]||"")+".com/embed/"+c[4],b.extend({autoplay:1},e(c[5]||"")))))}function l(a){var c=K.exec(a);return!!c&&o(g(a,f("https://player.vimeo.com/video/"+c[3],b.extend({autoplay:1},e(c[4]||"")))))}function m(a){var c=M.exec(a);return!!c&&(0!==a.indexOf("http")&&(a="https:"+a),o(g(a,f("https://www.facebook.com/plugins/video.php?href="+a,b.extend({autoplay:1},e(c[4]||""))))))}function n(a){var b=L.exec(a);return!!b&&o(g(a,f("https://www.google."+b[3]+"/maps?"+b[6],{output:b[6].indexOf("layer=c")>0?"svembed":"embed"})))}function o(a){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+a+'"/></div>'}function p(){return z.documentElement.clientHeight?z.documentElement.clientHeight:Math.round(A.height())}function q(a){var b=v();b&&(27===a.keyCode&&b.close(),9===a.keyCode&&r(a,b))}function r(a,b){var c=b.element().find(G),d=c.index(z.activeElement);a.shiftKey&&d<=0?(c.get(c.length-1).focus(),a.preventDefault()):a.shiftKey||d!==c.length-1||(c.get(0).focus(),a.preventDefault())}function s(){b.each(D,function(a,b){b.resize()})}function t(a){1===D.unshift(a)&&(C.addClass("lity-active"),A.on({resize:s,keydown:q})),b("body > *").not(a.element()).addClass("lity-hidden").each(function(){var a=b(this);void 0===a.data(F)&&a.data(F,a.attr(E)||null)}).attr(E,"true")}function u(a){var c;a.element().attr(E,"true"),1===D.length&&(C.removeClass("lity-active"),A.off({resize:s,keydown:q})),D=b.grep(D,function(b){return a!==b}),c=D.length?D[0].element():b(".lity-hidden"),c.removeClass("lity-hidden").each(function(){var a=b(this),c=a.data(F);c?a.attr(E,c):a.removeAttr(E),a.removeData(F)})}function v(){return 0===D.length?null:D[0]}function w(a,c,d,e){var f,g="inline",h=b.extend({},d);return e&&h[e]?(f=h[e](a,c),g=e):(b.each(["inline","iframe"],function(a,b){delete h[b],h[b]=d[b]}),b.each(h,function(b,d){return!d||(!(!d.test||d.test(a,c))||(f=d(a,c),!1!==f?(g=b,!1):void 0))})),{handler:g,content:f||""}}function x(a,e,f,g){function h(a){k=b(a).css("max-height",p()+"px"),j.find(".lity-loader").each(function(){var a=b(this);c(a).always(function(){a.remove()})}),j.removeClass("lity-loading").find(".lity-content").empty().append(k),m=!0,k.trigger("lity:ready",[l])}var i,j,k,l=this,m=!1,n=!1;e=b.extend({},H,e),j=b(e.template),l.element=function(){return j},l.opener=function(){return f},l.options=b.proxy(d,l,e),l.handlers=b.proxy(d,l,e.handlers),l.resize=function(){m&&!n&&k.css("max-height",p()+"px").trigger("lity:resize",[l])},l.close=function(){if(m&&!n){n=!0,u(l);var a=B();return g&&(z.activeElement===j[0]||b.contains(j[0],z.activeElement))&&g.focus(),k.trigger("lity:close",[l]),j.removeClass("lity-opened").addClass("lity-closed"),c(k.add(j)).always(function(){k.trigger("lity:remove",[l]),j.remove(),j=void 0,a.resolve()}),a.promise()}},i=w(a,l,e.handlers,e.handler),j.attr(E,"false").addClass("lity-loading lity-opened lity-"+i.handler).appendTo("body").focus().on("click","[data-lity-close]",function(a){b(a.target).is("[data-lity-close]")&&l.close()}).trigger("lity:open",[l]),t(l),b.when(i.content).always(h)}function y(a,c,d){a.preventDefault?(a.preventDefault(),d=b(this),a=d.data("lity-target")||d.attr("href")||d.attr("src")):d=b(d);var e=new x(a,b.extend({},d.data("lity-options")||d.data("lity"),c),d,z.activeElement);if(!a.preventDefault)return e}var z=a.document,A=b(a),B=b.Deferred,C=b("html"),D=[],E="aria-hidden",F="lity-"+E,G='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',H={handler:null,handlers:{image:i,inline:j,youtube:k,vimeo:l,googlemaps:n,facebookvideo:m,iframe:o},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},I=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,J=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,K=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,L=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,M=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i,N=function(){var a=z.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return b[c];return!1}();return i.test=function(a){return I.test(a)},y.version="2.2.1",y.options=b.proxy(d,y,H),y.handlers=b.proxy(d,y,H.handlers),y.current=v,b(z).on("click.lity","[data-lity]",y),y}),$(function(){function a(){c.prop("muted",!c.prop("muted")),f=!c.prop("muted"),e.toggleClass("muted")}function b(){g.prop("paused")?g.get(0).play():g.get(0).pause(),i.toggleClass("muted")}var c=$("#full-bg-video"),d=$("#mute-btn-hero"),e=$("#section-intro"),f=!1,g=$("#audio-callout"),h=$("#mute-btn-callout"),i=$(".callout.right"),j=!1;d.click(function(c){a(),!1===g.prop("paused")&&(b(),j=!0)}),h.click(function(d){b(),!1===c.prop("muted")&&(a(),f=!0)}),$(document).on("lity:open",function(d,e){!1===c.prop("muted")&&(a(),f=!0,j=!1),!1===g.prop("paused")&&(b(),f=!1,j=!0)}).on("lity:close",function(c,d){f&&a(),j&&b()}),$("#section-profiles .item, #section-photos .item").click(function(a){a.preventDefault(),$(this).closest(".item").toggleClass("show-description")});var k=new ScrollMagic.Controller,l=$("#section-intro .intro-text"),m=$("#full-bg-video"),n={volume:m.prop("volume")},o=(new TimelineMax).to(l,1.5,{alpha:0,transform:"translateY(-100px)",ease:Power0.easeIn},0).to(n,1,{volume:0,ease:Linear.easeNone,onUpdate:function(){$("#full-bg-video").prop("volume",this.target.volume)}},.5),p=new ScrollMagic.Scene({triggerElement:"#section-intro",triggerHook:0,duration:"100%"}).setPin("#section-intro",{pushFollowers:!1}).setTween(o).addTo(k);$("video").get(0).play();var q=CSSRulePlugin.getRule("#section-map .item-1 .headline:before"),r=CSSRulePlugin.getRule("#section-map .item-2 .headline:before"),s=CSSRulePlugin.getRule("#section-map .item-1 .headline:after"),t=CSSRulePlugin.getRule("#section-map .item-2 .headline:after"),u=(new TimelineMax).to(q,.5,{cssRule:{scaleX:0,transformOrigin:"100% 50%"}},0).to(s,.5,{cssRule:{scaleX:0,transformOrigin:"0% 50%"}},0).to("#section-map .item-1",.125,{opacity:0},.375).to("#section-map .background-1",.125,{scale:1.2,opacity:0},.375).from(r,.5,{cssRule:{scaleX:0,transformOrigin:"100% 50%"}},.5).from(t,.5,{cssRule:{scaleX:0,transformOrigin:"0% 50%"}},.5).to("#section-map .item-2",.125,{opacity:1},.5).to("#section-map .background-2",.125,{opacity:1,scale:1},.5),v=new ScrollMagic.Scene({triggerElement:"#section-map",triggerHook:0,duration:"100%"}).setPin("#section-map",{pushFollowers:!0}).on("leave",function(a){console.log("map leave"),"REVERSE"===a.scrollDirection&&$("#section-map").css({position:"relative"})}).setTween(u).addTo(k),w=$("#section-body .callout.left"),x=$("#section-body .callout.right"),y=(new TimelineMax).from(w,.5,{alpha:0,overwrite:!1}).from(w,.6,{x:"-=200px",overwrite:!1,immediateRender:!1},0),z=(new TimelineMax).from(x,.5,{alpha:0,overwrite:!1}).from(x,.6,{x:"+=200px",overwrite:!1,immediateRender:!1},0),A=new ScrollMagic.Scene({triggerElement:"#section-body .callout.left",offset:-200}).setTween(y).addTo(k),B=new ScrollMagic.Scene({triggerElement:"#section-body .callout.right",offset:-200}).setTween(z).addTo(k),C=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"200%"}});new ScrollMagic.Scene({triggerElement:"#section-profiles .item-1"}).setTween("#section-profiles .item-1 .img",{y:"30%",ease:Linear.easeNone}).addTo(C);var D=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"200%"}});new ScrollMagic.Scene({triggerElement:"#section-profiles .item-2"}).setTween("#section-profiles .item-2 .img",{y:"30%",ease:Linear.easeNone}).addTo(D);var E=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"200%"}});new ScrollMagic.Scene({triggerElement:"#section-photos .item-1"}).setTween("#section-photos .item-1 .img",{y:"30%",ease:Linear.easeNone}).addTo(E);var F=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"200%"}});new ScrollMagic.Scene({triggerElement:"#section-photos .item-2"}).setTween("#section-photos .item-2 .img",{y:"30%",ease:Linear.easeNone}).addTo(F);var G=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"200%"}});new ScrollMagic.Scene({triggerElement:"#section-photos .item-3"}).setTween("#section-photos .item-3 .img",{y:"30%",ease:Linear.easeNone}).addTo(G),$(window).resize(function(){p.update(!0),v.update(!0),A.update(!0),B.update(!0),sceneProfiles1.update(!0),sceneProfiles2.update(!0),sceneProfiles3.update(!0),scenePhotos1.update(!0),scenePhotos2.update(!0),scenePhotos3.update(!0),scenePhotos4.update(!0)})});